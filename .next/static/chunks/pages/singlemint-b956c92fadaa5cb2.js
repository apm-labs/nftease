(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[571],{92738:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/singlemint",function(){return t(80236)}])},8447:function(e,n,t){"use strict";var a,i=t(3283),r=t.n(i);if("undefined"!==typeof window.ethereum)a=new(r())(window.ethereum);else{var s=new(r().providers.HttpProvider)("https://rinkeby.infura.io/v3/15c1d32581894b88a92d8d9e519e476c");a=new(r())(s)}n.Z=a},80236:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return w}});var a=t(35666),i=t.n(a),r=t(85893),s=t(87357),o=t(16612),u=t(98456),p=t(25935),d=t(67294),l=t(8447),y={singlemint:{id:"0xB0E53D690682dE77D1B3beD2F5188589AF188B65",abi:JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getTokenCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"string","name":"tokenURI","type":"string"}],"name":"mintNFT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"}]}').Mt}};Object.keys(y).forEach((function(e){var n=y[e];n.instance=new l.Z.eth.Contract(n.abi,n.id)}));var c=y;function m(e,n,t,a,i,r,s){try{var o=e[r](s),u=o.value}catch(p){return void t(p)}o.done?n(u):Promise.resolve(u).then(a,i)}var f,v=(f=i().mark((function e(n,t,a){var r,s,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c[n],a){e.next=6;break}return e.next=4,l.Z.eth.getAccounts();case 4:s=e.sent,a=s[0];case 6:return e.next=8,r.instance.methods.mintNFT(a,t).send({from:a});case 8:return o=e.sent,e.abrupt("return",{contractId:r.id,tokenId:o.events.Transfer.returnValues.tokenId});case 10:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,a){var i=f.apply(e,n);function r(e){m(i,t,a,r,s,"next",e)}function s(e){m(i,t,a,r,s,"throw",e)}r(void 0)}))});function T(e,n,t,a,i,r,s){try{var o=e[r](s),u=o.value}catch(p){return void t(p)}o.done?n(u):Promise.resolve(u).then(a,i)}function b(e){return function(){var n=this,t=arguments;return new Promise((function(a,i){var r=e.apply(n,t);function s(e){T(r,a,i,s,o,"next",e)}function o(e){T(r,a,i,s,o,"throw",e)}s(void 0)}))}}function w(){var e=(0,d.useState)(null),n=e[0],t=e[1],a=(0,d.useState)(null),l=a[0],y=a[1],c=(0,d.useState)(null),m=c[0],f=c[1],T=(0,d.useState)(null),w=T[0],x=T[1],h=b(i().mark((function e(){var n,t,a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,(n=new FormData).append("file",l),n.append("name",l.name),e.next=7,fetch("/api/singlemint",{method:"POST",body:n});case 7:return t=e.sent,e.next=10,t.json();case 10:return a=e.sent.tokenURI,console.log("tokenURI",a),e.next=14,v("singlemint",a);case 14:r=e.sent,setTimeout((function(){x(r),f(!1)}),3e3),console.log(t),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),console.log(e.t0),f(!1);case 23:case"end":return e.stop()}}),e,null,[[1,19]])}))),k=b(i().mark((function e(n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.target.files[0],y(a),x(null),t(URL.createObjectURL(a));case 4:case"end":return e.stop()}}),e)})));return(0,r.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{style:{display:"none"},type:"file",onChange:k}),(0,r.jsx)(o.Z,{variant:"outlined",component:"span",children:"Choose File"})]}),n&&(0,r.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingTop:5,paddingBottom:5},children:[(0,r.jsx)("img",{src:n,style:{maxWidth:"700px",paddingBottom:5}}),!w&&(0,r.jsx)(o.Z,{variant:"outlined",component:"span",onClick:h,children:"Mint"})]}),m&&(0,r.jsx)(u.Z,{}),w&&(0,r.jsx)(p.Z,{href:"https://testnets.opensea.io/assets/".concat(w.contractId,"/").concat(w.tokenId),target:"_blank",children:"Show on Opensea"})]})}},88677:function(){},62808:function(){},80950:function(){},46601:function(){},89214:function(){},8623:function(){},7748:function(){},85568:function(){},56619:function(){},77108:function(){},52361:function(){},94616:function(){},23230:function(){},55896:function(){},87500:function(){},33557:function(){}},function(e){e.O(0,[774,482,452,801,888,179],(function(){return n=92738,e(e.s=n);var n}));var n=e.O();_N_E=n}]);